Q1. Kubernetes Class 6 Assignment 1

Objective:
Deploy the Docker nginx application into a Kubernetes cluster and use Helm for its management.

Steps:

Task 1: Initialize the Helm Chart

Create a Helm Chart: Start by creating a Helm chart named nginx. This creates the necessary structure for Helm deployment configurations.
Configure the Chart:
Chart.yaml: Populate this file with the chartâ€™s name, version, and a brief description.
values.yaml: There is docker image named nginx included in the values.yaml, update the tag to latest.
Task 2: Deploy the Application

Deploy with Helm: Use Helm to deploy the chart to the Kubernetes cluster with the command that initiates the deployment. Name of deployment is nginx-deployment

Ans:

$ helm create nginx
$ cd nginx

$ vi values.yaml
# Change the image tag to latest.

replicaCount: 1

image:
  repository: nginx
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "latest"

$ cd ..
$ helm install nginx-deployment-nginx ./nginx



Q2. Kubernetes Class 6 Assignment 2

Raw Problem

Objective:

The DevOps team needs to manage a complex application with multiple components using a wrapper chart.

TASK - 1:

Initialize a new Helm chart named myapp.
Add dependencies for mysql and wordpress sub-charts from the Bitnami repository.

TASK - 2:

Modify the values.yaml file in the wrapper chart to set custom values for the mysql and wordpresssub-charts, such as database configuration and WordPress settings.

TASK - 3:

Use the helm install command to deploy the wrapper chart.
Verify that MySQL and WordPress components are deployed with the specified custom values.

Ans:

$ helm create myapp

$ cd myapp

vi Chart.yaml

apiVersion: v2
name: myapp
description: A Helm chart for Kubernetes
type: application
version: 0.1.0

appVersion: "1.16.0"
dependencies:
  - name: mysql
    version: 12.2.1
    repository: https://charts.bitnami.com/bitnami
  - name: wordpress
    version: 15.2.5
    repository: https://charts.bitnami.com/bitnami

$ helm dependency update

$ vi values.yam

mysql:
  auth:
    rootPassword: "securepassword"
    database: "wordpress_db"
    username: "wp_user"
    password: "wp_password"
  primary:
    resources:
      requests:
        cpu: "250m"
        memory: "256Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"

wordpress:
  wordpressUsername: "admin"
  wordpressPassword: "adminpassword"
  wordpressEmail: "admin@example.com"
  wordpressFirstName: "Admin"
  wordpressLastName: "User"
  wordpressBlogName: "My Blog"
  externalDatabase:
    host: "myapp-mysql"
    user: "wp_user"
    password: "wp_password"
    database: "wordpress_db"
  service:
    type: ClusterIP
  resources:
    requests:
      cpu: "300m"
      memory: "512Mi"
    limits:
      cpu: "600m"
      memory: "1Gi"

$ helm install myapp ./myapp



